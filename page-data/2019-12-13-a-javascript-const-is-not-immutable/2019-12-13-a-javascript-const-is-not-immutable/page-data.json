{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-12-13-a-javascript-const-is-not-immutable/2019-12-13-a-javascript-const-is-not-immutable/","result":{"data":{"site":{"siteMetadata":{"title":"Its my Code Blog"}},"markdownRemark":{"id":"097ee731-f06c-5cbc-b5f7-8e26b8b56042","excerpt":"A JavaScript Const is not immutable  A JavaScript Const is a variable that cannot be reassigned? In the following example we declare a javaScript constant…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6d7e7070b3575ec2b5d360b96f6262be/07827/ross-findon-mG28olYFgHI-unsplash.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABymrAoxGKf//EABgQAAMBAQAAAAAAAAAAAAAAAAECEAAR/9oACAEBAAEFAguVAb2f/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQIQ/9oACAEDAQE/ASjP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BRn//xAAYEAACAwAAAAAAAAAAAAAAAAAAIQECIP/aAAgBAQAGPwJyO4sf/8QAGxABAQEAAgMAAAAAAAAAAAAAAREAECFBUXH/2gAIAQEAAT8hB8FLcJQPhlBRU1feEWL3x//aAAwDAQACAAMAAAAQG/8A/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPxAhiT1v/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAEhQf/aAAgBAgEBPxCRq3//xAAbEAEBAAMAAwAAAAAAAAAAAAABEQAhMRBBUf/aAAgBAQABPxCe7BThnHgsomveb2bpTuMJU+XCwIEY9PH/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text \"\n        title=\"Big O notation with Javascript - Photo by Ross Findon  on Unsplash\"\n        src=\"/static/6d7e7070b3575ec2b5d360b96f6262be/88218/ross-findon-mG28olYFgHI-unsplash.jpg\"\n        srcset=\"/static/6d7e7070b3575ec2b5d360b96f6262be/7237a/ross-findon-mG28olYFgHI-unsplash.jpg 148w,\n/static/6d7e7070b3575ec2b5d360b96f6262be/0cfdf/ross-findon-mG28olYFgHI-unsplash.jpg 295w,\n/static/6d7e7070b3575ec2b5d360b96f6262be/88218/ross-findon-mG28olYFgHI-unsplash.jpg 590w,\n/static/6d7e7070b3575ec2b5d360b96f6262be/77d57/ross-findon-mG28olYFgHI-unsplash.jpg 885w,\n/static/6d7e7070b3575ec2b5d360b96f6262be/5a917/ross-findon-mG28olYFgHI-unsplash.jpg 1180w,\n/static/6d7e7070b3575ec2b5d360b96f6262be/07827/ross-findon-mG28olYFgHI-unsplash.jpg 2048w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1>A JavaScript Const is not immutable</h1>\n<p><em><code class=\"language-text\">immutable - unchanging over time or unable to be changed</code></em></p>\n<h2>A JavaScript Const is a variable that cannot be reassigned?</h2>\n<p>In the following example we declare a javaScript constant variable DOG and assign it the value ’🐕‘. When we try to\nreassign its value to ’🐩’ it creates an error <code class=\"language-text\">Assignment to constant variable</code>. This is because we are\ntrying to change its read-only reference to a value or in other words <em>reassigning its value</em>. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const DOG = &#39;🐕&#39;;\n\nconsole.log(DOG);\n🐕\n\nDOG = &#39;🐩&#39;;\n❌ Uncaught TypeError: Assignment to constant variable.</code></pre></div>\n<h2>Are JavaScript Consts then immutable?</h2>\n<p>The previous example would lead us to believe that constants are in fact immutable as we received an error saying that\nwe could not assign another value to a constant variable. But in the example below, we create a const object <code class=\"language-text\">PET_DOG</code>\nand then update its breed property and we do not receive an error.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const PET_DOG = {\n    name: &#39;Rover&#39;,\n    breed: &#39;🐕&#39;\n  };\n\nconsole.log(PET_DOG);\n{name: &quot;Rover&quot;, breed: &quot;🐕&quot;}\n\nPET_DOG.breed = &#39;🐩&#39;;\n\nconsole.log(PET_DOG);\n{name: &quot;Rover&quot;, breed: &quot;🐩&quot;}</code></pre></div>\n</br>\nWe can also push another value to a JavaScript constant that contains an array.\n</br></br>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const DOGS = [&#39;🐕&#39;, &#39;🐩&#39;];\n\nconsole.log(DOGS);\n(2) [&quot;🐕&quot;, &quot;🐩&quot;]\n\nDOGS.push(&#39;🐺&#39;);\n\nconsole.log(DOGS);\n(3) [&quot;🐕&quot;, &quot;🐩&quot;, &quot;🐺&quot;]</code></pre></div>\n<h2>Can we create a JavaScript Const that references objects or arrays immutable?</h2>\n<p>We can use the Object.freeze() method to freeze an object or array (in this case) to make the const reference immutable.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// error TS2339: Property &#39;push&#39; does not exist on type &#39;ReadonlyArray&lt;string&gt;&#39;.\n// VM708:2 Uncaught TypeError: Cannot add property 3, object is not extensible at Array.push \nconst FROZEN = Object.freeze([&#39;🍨&#39;, &#39;⛸️&#39;, &#39;☃️&#39;]);\n\nconsole.log(FROZEN);\n(3) [&quot;🍨&quot;, &quot;⛸️&quot;, &quot;☃️&quot;]\n\n\nFROZEN.push(&#39;❄️&#39;);\n❌ Uncaught TypeError: Cannot add property 3, object is not extensible\n    at Array.push (&lt;anonymous&gt;)</code></pre></div>\n<h2>So what happens if we freeze an object that contains an array property</h2>\n<p>In the example below we freeze our <code class=\"language-text\">FROZEN_YOUGART</code> Const object and then try to push to its array property.\nBut we can see that we can push items to the array as the array can be mutated. This is because Object.freeze\nis shallow. This means that the Const is frozen but its contents are not.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const FROZEN_YOUGART = Object.freeze({\n    ingredients: [&#39;🥛&#39;, &#39;🍦&#39;]\n  });\n\nconsole.log(FROZEN_YOUGART);\n{ingredients: Array(2)}\ningredients: (2) [&quot;🥛&quot;, &quot;🍦&quot;]\n__proto__: Object\n\n\nFROZEN_YOUGART.ingredients.push(&#39;🍓&#39;);\n\nconsole.log(FROZEN_YOUGART);\n{ingredients: Array(3)}\ningredients: (3) [&quot;🥛&quot;, &quot;🍦&quot;, &quot;🍓&quot;]\n__proto__: Object</code></pre></div>\n<h2>So what happens if we instead <em>deep freeze</em> an object that contains an array property</h2>\n<p>In the example below we <em>deep freeze</em> our <code class=\"language-text\">DEEP_FROZEN_YOUGART</code> Const object and then try to push to its array property.\nNow we can’t push items to the array as the array can’t be mutated. This due to using Object.freeze on the object and\nalso on its ingredients array property.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// This does not work as the array contents can&#39;t be mutated as Object.freeze is applied to inner objects\n// VM981:4 Uncaught TypeError: Cannot add property 2, object is not extensible\n//    at Array.push (&lt;anonymous&gt;)\nconst DEEP_FROZEN_YOUGART = Object.freeze({\n    ingredients: Object.freeze([&#39;🥛&#39;, &#39;🍦&#39;])\n  });\n\nconsole.log(DEEP_FROZEN_YOUGART);\n{ingredients: Array(2)}\ningredients: (2) [&quot;🥛&quot;, &quot;🍦&quot;]\n__proto__: Object\n\nDEEP_FROZEN_YOUGART.ingredients.push(&#39;🍒&#39;);\n❌ Uncaught TypeError: Cannot add property 2, object is not extensible\n    at Array.push (&lt;anonymous&gt;)</code></pre></div>","frontmatter":{"title":"A JavaScript Const is not immutable","date":"December 13, 2019","description":"A JavaScript Const is not immutable"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019-12-13-a-javascript-const-is-not-immutable/2019-12-13-a-javascript-const-is-not-immutable/","previous":{"fields":{"slug":"/2019-1-13-big-o-notation-with-javascript/2019-1-13-big-o-notation-with-javascript/"},"frontmatter":{"title":"Big-O notation with Javascript"}},"next":null}}}