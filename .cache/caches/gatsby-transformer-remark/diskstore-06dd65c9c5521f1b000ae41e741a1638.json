{"expireTime":9007200801288851000,"key":"transformer-remark-markdown-ast-322f858acbff4f7670be04163879e51e-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-external-linksgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"image","title":"Self Executing Anonymous Function","url":"/images/seaf.jpg","alt":"alt text ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":67,"offset":67},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":67,"offset":67},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A common pattern you will see in AngularJS is angular code being wrapped in a Self Executing Anonymous Function (SEAF) such as a directive  being attached to an angular module. A SEAF is also known as an IIFE which is short for Immediately-Invoked Function Expression.","position":{"start":{"line":7,"column":1,"offset":72},"end":{"line":7,"column":269,"offset":340},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":72},"end":{"line":7,"column":269,"offset":340},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What is a Self Executing Anonymous Function (SEAF)?","position":{"start":{"line":9,"column":4,"offset":345},"end":{"line":9,"column":55,"offset":396},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":342},"end":{"line":9,"column":55,"offset":396},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In order to create modular code in javascript one technique is to wrap your code in a SEAF.","position":{"start":{"line":11,"column":1,"offset":398},"end":{"line":11,"column":92,"offset":489},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":398},"end":{"line":11,"column":92,"offset":489},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function(){\n\n    var greetingPartOne = &quot;Hello&quot;;\n    var greetingPartTwo = &quot;World!&quot;;\n    \n    function salutation() {\n        alert(greetingPartOne + &quot; &quot; + greetingPartTwo);\n    }\n    \n    salutation();\n   \n})();</code></pre></div>","position":{"start":{"line":13,"column":1,"offset":491},"end":{"line":28,"column":4,"offset":713},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The SEAF consists of the anonymous function","position":{"start":{"line":30,"column":1,"offset":715},"end":{"line":30,"column":44,"offset":758},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":715},"end":{"line":30,"column":44,"offset":758},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function(){\n})</code></pre></div>","position":{"start":{"line":32,"column":1,"offset":760},"end":{"line":37,"column":4,"offset":785},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"and the two brackets at the end that immediately executes the code contained in the preceeding parentheses.","position":{"start":{"line":39,"column":1,"offset":787},"end":{"line":39,"column":108,"offset":894},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":787},"end":{"line":39,"column":108,"offset":894},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">();</code></pre></div>","position":{"start":{"line":41,"column":1,"offset":896},"end":{"line":45,"column":4,"offset":909},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Although the SEAF describes the anonymous function as being ","position":{"start":{"line":47,"column":1,"offset":911},"end":{"line":47,"column":61,"offset":971},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"executed","position":{"start":{"line":47,"column":62,"offset":972},"end":{"line":47,"column":70,"offset":980},"indent":[]}}],"position":{"start":{"line":47,"column":61,"offset":971},"end":{"line":47,"column":71,"offset":981},"indent":[]}},{"type":"text","value":" the IIFE description of ","position":{"start":{"line":47,"column":71,"offset":981},"end":{"line":47,"column":96,"offset":1006},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"invoked","position":{"start":{"line":47,"column":97,"offset":1007},"end":{"line":47,"column":104,"offset":1014},"indent":[]}}],"position":{"start":{"line":47,"column":96,"offset":1006},"end":{"line":47,"column":105,"offset":1015},"indent":[]}},{"type":"text","value":" is more accurate.","position":{"start":{"line":47,"column":105,"offset":1015},"end":{"line":47,"column":123,"offset":1033},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":911},"end":{"line":47,"column":123,"offset":1033},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Anonymous Function","position":{"start":{"line":49,"column":4,"offset":1038},"end":{"line":49,"column":22,"offset":1056},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1035},"end":{"line":49,"column":22,"offset":1056},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The use of the anonymous function creates a closure which prevents access to the variables and functions that it contains.","position":{"start":{"line":51,"column":1,"offset":1058},"end":{"line":51,"column":123,"offset":1180},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1058},"end":{"line":51,"column":123,"offset":1180},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So in the example below the alerting of the variables and the call to the salutation function from outside the SEAF will not work as they are not available to code external to the anonymous function.","position":{"start":{"line":53,"column":1,"offset":1183},"end":{"line":53,"column":200,"offset":1382},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1183},"end":{"line":53,"column":200,"offset":1382},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function(){\n\n    var greetingPartOne = &quot;Hello&quot;;\n    var greetingPartTwo = &quot;World!&quot;;\n    \n    function salutation() {\n        alert(greetingPartOne + &quot; &quot; + greetingPartTwo);\n    }\n    \n    salutation();\n   \n})();\n\nalert(greetingPartOne);\nalert(greetingPartTwo);\nsalutation();</code></pre></div>","position":{"start":{"line":57,"column":1,"offset":1386},"end":{"line":76,"column":4,"offset":1671},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The usage of the variables and function outside the SEAF will result in Reference Errors being thrown by the javascript compiler.","position":{"start":{"line":78,"column":1,"offset":1673},"end":{"line":78,"column":130,"offset":1802},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":1673},"end":{"line":78,"column":130,"offset":1802},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Exception: ReferenceError: greetingPartOne is not defined\n\nException: ReferenceError: greetingPartTwo is not defined\n\nException: ReferenceError: salutation is not defineded</code></pre></div>","position":{"start":{"line":80,"column":1,"offset":1804},"end":{"line":86,"column":4,"offset":1984},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The SEAF pattern in jQuery","position":{"start":{"line":89,"column":4,"offset":1990},"end":{"line":89,"column":30,"offset":2016},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":1987},"end":{"line":89,"column":30,"offset":2016},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This SEAF pattern is used extensively by jQuery developers when wishing to pass the jQuery object into an anonymous function to create and attach objects as properties or methods that can be accessed without exposing the objects publicly. It also prevents any variable naming collisions by keeping the variables private and internal to the anonymous function.","position":{"start":{"line":91,"column":1,"offset":2018},"end":{"line":91,"column":360,"offset":2377},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":2018},"end":{"line":91,"column":360,"offset":2377},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function($){\n\n    //jQuery is available here as $\n    \n    var arr = []; //this is private\n    \n    $.addItem = function(item) {\n      arr.push(item);\n    }\n\n})(jQuery);\n\n// arr can&#39;t be accessed here\n// jQuery.addItem can be accessed here.</code></pre></div>","position":{"start":{"line":93,"column":1,"offset":2379},"end":{"line":110,"column":4,"offset":2630},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The SEAF pattern in AngularJS","position":{"start":{"line":112,"column":4,"offset":2635},"end":{"line":112,"column":33,"offset":2664},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":2632},"end":{"line":112,"column":33,"offset":2664},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The typical example would be a controller being added to an angular module being wrapped in a self executing anonymous function. In the example below the wrapping SEAF is not being utalised as the code block is being wrapped in an anonymous function which is encapsulating \nthe code within its local function scope. ","position":{"start":{"line":114,"column":1,"offset":2666},"end":{"line":115,"column":43,"offset":2982},"indent":[1]}}],"position":{"start":{"line":114,"column":1,"offset":2666},"end":{"line":115,"column":43,"offset":2982},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"But it is good practice to include it within your javascript code and many developers code editors are set up to include a SEAF code snippet in a new javascript file. Coupled with the ","position":{"start":{"line":117,"column":1,"offset":2984},"end":{"line":117,"column":185,"offset":3168},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"‘use strict’","position":{"start":{"line":117,"column":186,"offset":3169},"end":{"line":117,"column":198,"offset":3181},"indent":[]}}],"position":{"start":{"line":117,"column":185,"offset":3168},"end":{"line":117,"column":199,"offset":3182},"indent":[]}},{"type":"text","value":" directive which enables strict mode that will throw errors if it encounters, for example, undeclared variables.","position":{"start":{"line":117,"column":199,"offset":3182},"end":{"line":117,"column":311,"offset":3294},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":2984},"end":{"line":117,"column":311,"offset":3294},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function(){\n\n &quot;use strict&quot;;\n\n    angular.module(&#39;appMod&#39;)\n    .controller(&#39;appCtrl&#39;, [&#39;dep1&#39;, function(dep1){\n      //..\n      // Code block here\n      //..\n    }])\n   \n})();</code></pre></div>","position":{"start":{"line":119,"column":1,"offset":3296},"end":{"line":132,"column":4,"offset":3479},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The code seen below separates the controllers anonymous function out into a named function keeping the angular related code more \ncleaner and makes use of the SEAF to locally scope the MainCtrl function. This makes the code more modular keeping our functions and variables local while still being able to connect our controller to the angular.module(‘app’).","position":{"start":{"line":135,"column":1,"offset":3482},"end":{"line":136,"column":228,"offset":3839},"indent":[1]}}],"position":{"start":{"line":135,"column":1,"offset":3482},"end":{"line":136,"column":228,"offset":3839},"indent":[1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function () {\n\n    &#39;use strict&#39;;\n    \n    function MainCtrl ($scope) {\n        $scope.initalised = true;\n    }\n    \n    angular.module(&#39;app&#39;).controller(&#39;MainCtrl&#39;, [&#39;$scope&#39;, MainCtrl);\n    \n})();</code></pre></div>","position":{"start":{"line":138,"column":1,"offset":3841},"end":{"line":150,"column":4,"offset":4047},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So whether you call it a SEAF or an IIFE it is good practice to encapsulate your code in an anonymous function that can self invoke. ","position":{"start":{"line":152,"column":1,"offset":4049},"end":{"line":152,"column":134,"offset":4182},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":4049},"end":{"line":152,"column":134,"offset":4182},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":153,"column":1,"offset":4183}}}}