{"expireTime":9007200801288851000,"key":"transformer-remark-markdown-ast-4347b901ff01847c47c01d6686be05c6-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-external-linksgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"image","title":"ES6 Let there be let","url":"/images/let-there-be-light.jpg","alt":"alt text ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":68,"offset":68},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":68,"offset":68},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"In the beginning there was var","position":{"start":{"line":4,"column":3,"offset":72},"end":{"line":4,"column":33,"offset":102},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":70},"end":{"line":4,"column":34,"offset":103},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"And ","position":{"start":{"line":6,"column":1,"offset":105},"end":{"line":6,"column":5,"offset":109},"indent":[]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"var","position":{"start":{"line":6,"column":8,"offset":112},"end":{"line":6,"column":11,"offset":115},"indent":[]}}],"position":{"start":{"line":6,"column":7,"offset":111},"end":{"line":6,"column":12,"offset":116},"indent":[]}}],"position":{"start":{"line":6,"column":5,"offset":109},"end":{"line":6,"column":14,"offset":118},"indent":[]}},{"type":"text","value":" was a little bit tricky to understand. So, along came es6 with the new \nshiny ","position":{"start":{"line":6,"column":14,"offset":118},"end":{"line":7,"column":7,"offset":197},"indent":[1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"let","position":{"start":{"line":7,"column":10,"offset":200},"end":{"line":7,"column":13,"offset":203},"indent":[]}}],"position":{"start":{"line":7,"column":9,"offset":199},"end":{"line":7,"column":14,"offset":204},"indent":[]}}],"position":{"start":{"line":7,"column":7,"offset":197},"end":{"line":7,"column":16,"offset":206},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":7,"column":16,"offset":206},"end":{"line":7,"column":17,"offset":207},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":105},"end":{"line":7,"column":17,"offset":207},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Block level scoping","position":{"start":{"line":9,"column":4,"offset":212},"end":{"line":9,"column":23,"offset":231},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":209},"end":{"line":9,"column":23,"offset":231},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In javascript the setting of a variable can be the cause of bugs due to way javascript allows \nthe assigning of values. For example, in the code below you would think that declaring and \nassigning a value to a variable inside a block of code would isolate it from the rest of the \ncode. But javascript does not have block level scoping. So, in the code below the variable \n","position":{"start":{"line":11,"column":1,"offset":233},"end":{"line":15,"column":1,"offset":606},"indent":[1,1,1,1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"messageInBottle","position":{"start":{"line":15,"column":4,"offset":609},"end":{"line":15,"column":19,"offset":624},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":608},"end":{"line":15,"column":20,"offset":625},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":606},"end":{"line":15,"column":22,"offset":627},"indent":[]}},{"type":"text","value":" takes its value from the second assignment and not the first.","position":{"start":{"line":15,"column":22,"offset":627},"end":{"line":15,"column":84,"offset":689},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":233},"end":{"line":15,"column":84,"offset":689},"indent":[1,1,1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var messageInBottle = &#39;Help me!&#39;;\n{\n  var messageInBottle = &#39;Would you like a pen pal?&#39;; \n}\nconsole.log(messageInBottle);\n\n// output: Would you like a pen pal?</code></pre></div>","position":{"start":{"line":17,"column":1,"offset":691},"end":{"line":27,"column":4,"offset":860},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Javascript has function level scoping which encapsulates ","position":{"start":{"line":30,"column":1,"offset":863},"end":{"line":30,"column":58,"offset":920},"indent":[]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"var","position":{"start":{"line":30,"column":61,"offset":923},"end":{"line":30,"column":64,"offset":926},"indent":[]}}],"position":{"start":{"line":30,"column":60,"offset":922},"end":{"line":30,"column":65,"offset":927},"indent":[]}}],"position":{"start":{"line":30,"column":58,"offset":920},"end":{"line":30,"column":67,"offset":929},"indent":[]}},{"type":"text","value":" declarations and assignments \nand therefore in the code below the first assignment of ","position":{"start":{"line":30,"column":67,"offset":929},"end":{"line":31,"column":57,"offset":1016},"indent":[1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"messageInBottle","position":{"start":{"line":31,"column":60,"offset":1019},"end":{"line":31,"column":75,"offset":1034},"indent":[]}}],"position":{"start":{"line":31,"column":59,"offset":1018},"end":{"line":31,"column":76,"offset":1035},"indent":[]}}],"position":{"start":{"line":31,"column":57,"offset":1016},"end":{"line":31,"column":78,"offset":1037},"indent":[]}},{"type":"text","value":" is unaffected by the \nsecond assignment.","position":{"start":{"line":31,"column":78,"offset":1037},"end":{"line":32,"column":19,"offset":1078},"indent":[1]}}],"position":{"start":{"line":30,"column":1,"offset":863},"end":{"line":32,"column":19,"offset":1078},"indent":[1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var messageInBottle = &#39;Help me!&#39;;\n\nfunction bottle() {\n  var messageInBottle = &#39;Would you like a pen pal?&#39;; \n}\n\nconsole.log(messageInBottle);\n\n// output: Help me!</code></pre></div>","position":{"start":{"line":34,"column":1,"offset":1080},"end":{"line":46,"column":4,"offset":1252},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"With es6 the introduction of the ","position":{"start":{"line":48,"column":1,"offset":1254},"end":{"line":48,"column":34,"offset":1287},"indent":[]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"let","position":{"start":{"line":48,"column":37,"offset":1290},"end":{"line":48,"column":40,"offset":1293},"indent":[]}}],"position":{"start":{"line":48,"column":36,"offset":1289},"end":{"line":48,"column":41,"offset":1294},"indent":[]}}],"position":{"start":{"line":48,"column":34,"offset":1287},"end":{"line":48,"column":43,"offset":1296},"indent":[]}},{"type":"text","value":" keyword introduces block level variable scoping. This \nallows the declaration and assignment of variables that have block level scope. Now we can \nsee that the first ","position":{"start":{"line":48,"column":43,"offset":1296},"end":{"line":50,"column":20,"offset":1463},"indent":[1,1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"messageInBottle","position":{"start":{"line":50,"column":23,"offset":1466},"end":{"line":50,"column":38,"offset":1481},"indent":[]}}],"position":{"start":{"line":50,"column":22,"offset":1465},"end":{"line":50,"column":39,"offset":1482},"indent":[]}}],"position":{"start":{"line":50,"column":20,"offset":1463},"end":{"line":50,"column":41,"offset":1484},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":50,"column":41,"offset":1484},"end":{"line":50,"column":42,"offset":1485},"indent":[]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"let","position":{"start":{"line":50,"column":45,"offset":1488},"end":{"line":50,"column":48,"offset":1491},"indent":[]}}],"position":{"start":{"line":50,"column":44,"offset":1487},"end":{"line":50,"column":49,"offset":1492},"indent":[]}}],"position":{"start":{"line":50,"column":42,"offset":1485},"end":{"line":50,"column":51,"offset":1494},"indent":[]}},{"type":"text","value":" variable retains its value as the second \n","position":{"start":{"line":50,"column":51,"offset":1494},"end":{"line":51,"column":1,"offset":1537},"indent":[1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"messageInBottle","position":{"start":{"line":51,"column":4,"offset":1540},"end":{"line":51,"column":19,"offset":1555},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":1539},"end":{"line":51,"column":20,"offset":1556},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1537},"end":{"line":51,"column":22,"offset":1558},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":51,"column":22,"offset":1558},"end":{"line":51,"column":23,"offset":1559},"indent":[]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"let","position":{"start":{"line":51,"column":26,"offset":1562},"end":{"line":51,"column":29,"offset":1565},"indent":[]}}],"position":{"start":{"line":51,"column":25,"offset":1561},"end":{"line":51,"column":30,"offset":1566},"indent":[]}}],"position":{"start":{"line":51,"column":23,"offset":1559},"end":{"line":51,"column":32,"offset":1568},"indent":[]}},{"type":"text","value":" variable is restricted to the scope of its code block. ","position":{"start":{"line":51,"column":32,"offset":1568},"end":{"line":51,"column":88,"offset":1624},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1254},"end":{"line":51,"column":88,"offset":1624},"indent":[1,1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let messageInBottle = &#39;Help me!&#39;;\n{\n  let messageInBottle = &#39;Would you like a pen pal?&#39;; \n}\nconsole.log(messageInBottle);\n\n// output: Help me!</code></pre></div>","position":{"start":{"line":54,"column":1,"offset":1627},"end":{"line":64,"column":4,"offset":1779},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Hoisted by your own petard","position":{"start":{"line":67,"column":4,"offset":1785},"end":{"line":67,"column":30,"offset":1811},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":1782},"end":{"line":67,"column":30,"offset":1811},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the code below we would expect the output to be the range of numbers 0-9 squared but \nthe output is in fact the number 10 repeated 10 times. This occurs due to the reference \nof ","position":{"start":{"line":69,"column":1,"offset":1813},"end":{"line":71,"column":4,"offset":1994},"indent":[1,1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"n","position":{"start":{"line":71,"column":7,"offset":1997},"end":{"line":71,"column":8,"offset":1998},"indent":[]}}],"position":{"start":{"line":71,"column":6,"offset":1996},"end":{"line":71,"column":9,"offset":1999},"indent":[]}}],"position":{"start":{"line":71,"column":4,"offset":1994},"end":{"line":71,"column":11,"offset":2001},"indent":[]}},{"type":"text","value":" pointing to the value of n in the loop which has exited when it incremented to \nthe number 10. This variable hoisting moves the declaration of the variable ","position":{"start":{"line":71,"column":11,"offset":2001},"end":{"line":72,"column":77,"offset":2158},"indent":[1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"n","position":{"start":{"line":72,"column":80,"offset":2161},"end":{"line":72,"column":81,"offset":2162},"indent":[]}}],"position":{"start":{"line":72,"column":79,"offset":2160},"end":{"line":72,"column":82,"offset":2163},"indent":[]}}],"position":{"start":{"line":72,"column":77,"offset":2158},"end":{"line":72,"column":84,"offset":2165},"indent":[]}},{"type":"text","value":" out \nof the loop and instead to the top of the function scope.","position":{"start":{"line":72,"column":84,"offset":2165},"end":{"line":73,"column":58,"offset":2228},"indent":[1]}}],"position":{"start":{"line":69,"column":1,"offset":1813},"end":{"line":73,"column":58,"offset":2228},"indent":[1,1,1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var squares = [];\n\nfor (var n = 0; n &lt; 10; n ++) {\n   squares.push(function() {\n     console.log(n * n);\n   });\n}\n\nsquares.forEach(function(s) { \n  s();\n});\n\n// output:\n// 10\n// 10\n// 10\n// 10\n// 10\n// 10\n// 10\n// 10\n// 10\n// 10</code></pre></div>","position":{"start":{"line":76,"column":1,"offset":2231},"end":{"line":102,"column":4,"offset":2469},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This can be solved by using a closure which are nested functions that retain a reference to \nthe enviroment in which they were created. The closure retains the value of n that it was \npassed during its creation. We now see the expected output of the range 0-9 squared.","position":{"start":{"line":105,"column":1,"offset":2472},"end":{"line":107,"column":85,"offset":2740},"indent":[1,1]}}],"position":{"start":{"line":105,"column":1,"offset":2472},"end":{"line":107,"column":85,"offset":2740},"indent":[1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var squares = [];\n\nfor (var n = 0; n &lt; 10; n ++) {\n   squares.push(function(i) {\n     console.log(i * i);\n   }(n));\n}\n\nsquares.forEach(function(s) {\n});\n\n// output:\n// 0\n// 1\n// 4\n// 9\n// 16\n// 25\n// 36\n// 49\n// 64\n// 81</code></pre></div>","position":{"start":{"line":109,"column":1,"offset":2742},"end":{"line":134,"column":4,"offset":2972},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The newly introduced ","position":{"start":{"line":137,"column":1,"offset":2975},"end":{"line":137,"column":22,"offset":2996},"indent":[]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"let","position":{"start":{"line":137,"column":25,"offset":2999},"end":{"line":137,"column":28,"offset":3002},"indent":[]}}],"position":{"start":{"line":137,"column":24,"offset":2998},"end":{"line":137,"column":29,"offset":3003},"indent":[]}}],"position":{"start":{"line":137,"column":22,"offset":2996},"end":{"line":137,"column":31,"offset":3005},"indent":[]}},{"type":"text","value":" keyword can help us gain the expected output by its ability \nto create a new instance of ","position":{"start":{"line":137,"column":31,"offset":3005},"end":{"line":138,"column":29,"offset":3095},"indent":[1]}},{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"n","position":{"start":{"line":138,"column":32,"offset":3098},"end":{"line":138,"column":33,"offset":3099},"indent":[]}}],"position":{"start":{"line":138,"column":31,"offset":3097},"end":{"line":138,"column":34,"offset":3100},"indent":[]}}],"position":{"start":{"line":138,"column":29,"offset":3095},"end":{"line":138,"column":36,"offset":3102},"indent":[]}},{"type":"text","value":" each time the code goes through the for loop.","position":{"start":{"line":138,"column":36,"offset":3102},"end":{"line":138,"column":82,"offset":3148},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":2975},"end":{"line":138,"column":82,"offset":3148},"indent":[1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var squares = [];\n\nfor (let n = 0; n &lt; 10; n ++) {\n   squares.push(function() {\n     console.log(n * n);\n   });\n}\n\nsquares.forEach(function(s) {\n  s();\n});\n\n// output:\n// 0\n// 1\n// 4\n// 9\n// 16\n// 25\n// 36\n// 49\n// 64\n// 81</code></pre></div>","position":{"start":{"line":141,"column":1,"offset":3151},"end":{"line":168,"column":4,"offset":3385},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Photo Credit: ","position":{"start":{"line":171,"column":1,"offset":3388},"end":{"line":171,"column":15,"offset":3402},"indent":[]}},{"type":"html","value":"<a href=\"https://unsplash.com/@celestekorol\">","position":{"start":{"line":171,"column":15,"offset":3402},"end":{"line":171,"column":60,"offset":3447},"indent":[]}},{"type":"text","value":"Celeste Korol","position":{"start":{"line":171,"column":60,"offset":3447},"end":{"line":171,"column":73,"offset":3460},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":171,"column":73,"offset":3460},"end":{"line":171,"column":77,"offset":3464},"indent":[]}},{"type":"text","value":" via ","position":{"start":{"line":171,"column":77,"offset":3464},"end":{"line":171,"column":82,"offset":3469},"indent":[]}},{"type":"html","value":"<a href=\"https://unsplash.com/\">","position":{"start":{"line":171,"column":82,"offset":3469},"end":{"line":171,"column":114,"offset":3501},"indent":[]}},{"type":"text","value":"Unsplash","position":{"start":{"line":171,"column":114,"offset":3501},"end":{"line":171,"column":122,"offset":3509},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":171,"column":122,"offset":3509},"end":{"line":171,"column":126,"offset":3513},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":3388},"end":{"line":171,"column":126,"offset":3513},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":173,"column":1,"offset":3515}}}}