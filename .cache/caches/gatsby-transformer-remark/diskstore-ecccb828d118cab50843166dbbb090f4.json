{"expireTime":9007200801288851000,"key":"transformer-remark-markdown-ast-969b80a16a6124ca8561fb8b59cc7b68-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-external-linksgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"image","title":"Service versus Factory","url":"/images/service-v-factory.png","alt":"alt text ","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":69,"offset":70},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":69,"offset":70},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"AngularJS has 5 ways to create services","position":{"start":{"line":6,"column":1,"offset":73},"end":{"line":6,"column":40,"offset":112},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":73},"end":{"line":6,"column":40,"offset":112},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":true,"children":[{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Provider - used by the other services except constant","position":{"start":{"line":8,"column":4,"offset":117},"end":{"line":8,"column":57,"offset":170},"indent":[]}}],"position":{"start":{"line":8,"column":4,"offset":117},"end":{"line":8,"column":57,"offset":170},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":114},"end":{"line":9,"column":1,"offset":171},"indent":[1]}},{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Factory - constructs a new service using a function that returns an object","position":{"start":{"line":10,"column":4,"offset":175},"end":{"line":10,"column":78,"offset":249},"indent":[]}}],"position":{"start":{"line":10,"column":4,"offset":175},"end":{"line":10,"column":78,"offset":249},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":172},"end":{"line":11,"column":1,"offset":250},"indent":[1]}},{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Value - for storing simple values or objects","position":{"start":{"line":12,"column":4,"offset":254},"end":{"line":12,"column":48,"offset":298},"indent":[]}}],"position":{"start":{"line":12,"column":4,"offset":254},"end":{"line":12,"column":48,"offset":298},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":251},"end":{"line":13,"column":1,"offset":299},"indent":[1]}},{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Service - works the same a factory except as it is ","position":{"start":{"line":14,"column":4,"offset":303},"end":{"line":14,"column":55,"offset":354},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"newed","position":{"start":{"line":14,"column":56,"offset":355},"end":{"line":14,"column":61,"offset":360},"indent":[]}}],"position":{"start":{"line":14,"column":55,"offset":354},"end":{"line":14,"column":62,"offset":361},"indent":[]}},{"type":"text","value":" internally it uses ","position":{"start":{"line":14,"column":62,"offset":361},"end":{"line":14,"column":82,"offset":381},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"this","position":{"start":{"line":14,"column":83,"offset":382},"end":{"line":14,"column":87,"offset":386},"indent":[]}}],"position":{"start":{"line":14,"column":82,"offset":381},"end":{"line":14,"column":88,"offset":387},"indent":[]}},{"type":"text","value":" properties","position":{"start":{"line":14,"column":88,"offset":387},"end":{"line":14,"column":99,"offset":398},"indent":[]}}],"position":{"start":{"line":14,"column":4,"offset":303},"end":{"line":14,"column":99,"offset":398},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":300},"end":{"line":15,"column":1,"offset":399},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Constants - for providing configuration services","position":{"start":{"line":16,"column":4,"offset":403},"end":{"line":16,"column":52,"offset":451},"indent":[]}}],"position":{"start":{"line":16,"column":4,"offset":403},"end":{"line":16,"column":52,"offset":451},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":400},"end":{"line":16,"column":52,"offset":451},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":114},"end":{"line":16,"column":52,"offset":451},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"When I am using angular to construct a web app I create a folder called services and add my services there that are constructed using factory functions.","position":{"start":{"line":18,"column":1,"offset":453},"end":{"line":18,"column":153,"offset":605},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":453},"end":{"line":18,"column":153,"offset":605},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"But why do we use factory functions instead of service functions?","position":{"start":{"line":20,"column":1,"offset":607},"end":{"line":20,"column":66,"offset":672},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":607},"end":{"line":20,"column":66,"offset":672},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"John Papa says, as they are so similar, we should ","position":{"start":{"line":22,"column":1,"offset":674},"end":{"line":22,"column":51,"offset":724},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/johnpapa/angular-styleguide#style-y040","children":[{"type":"text","value":"use a factory instead for consistency.","position":{"start":{"line":22,"column":52,"offset":725},"end":{"line":22,"column":90,"offset":763},"indent":[]}}],"position":{"start":{"line":22,"column":51,"offset":724},"end":{"line":22,"column":150,"offset":823},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow"}}}],"position":{"start":{"line":22,"column":1,"offset":674},"end":{"line":22,"column":150,"offset":823},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the angular source we can see that a service uses a factory internally","position":{"start":{"line":24,"column":1,"offset":825},"end":{"line":24,"column":74,"offset":898},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":825},"end":{"line":24,"column":74,"offset":898},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function factory(name, factoryFn, enforce) {\n    return provider(name, {\n      $get: enforce !== false ? enforceReturnValue(name, factoryFn) : factoryFn\n    });\n}\n\nfunction service(name, constructor) {\n    return factory(name, [&#39;$injector&#39;, function($injector) {\n      return $injector.instantiate(constructor);\n    }]);\n}</code></pre></div>","position":{"start":{"line":26,"column":1,"offset":900},"end":{"line":38,"column":4,"offset":1230},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The typical examples of a service and factory demonstrate basic functionality in which they look virtually the same.","position":{"start":{"line":40,"column":1,"offset":1232},"end":{"line":40,"column":117,"offset":1348},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1232},"end":{"line":40,"column":117,"offset":1348},"indent":[]}},{"type":"html","value":"<script src=\"https://gist.github.com/NicholasMurray/d4c16a38f65489d01c6a.js\"></script>","position":{"start":{"line":42,"column":1,"offset":1350},"end":{"line":42,"column":87,"offset":1436},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"But how do we make better use of a service and factory?","position":{"start":{"line":45,"column":1,"offset":1439},"end":{"line":45,"column":56,"offset":1494},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1439},"end":{"line":45,"column":56,"offset":1494},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"An example of an appropriate use of a services ability to return a new object, would be, where prototype inheritance would allow us to call methods from a base class as well as the child class.","position":{"start":{"line":48,"column":1,"offset":1497},"end":{"line":48,"column":194,"offset":1690},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1497},"end":{"line":48,"column":194,"offset":1690},"indent":[]}},{"type":"html","value":"<script src=\"https://gist.github.com/NicholasMurray/1706ed6e967fdf79e9a9.js\"></script>","position":{"start":{"line":50,"column":1,"offset":1692},"end":{"line":50,"column":87,"offset":1778},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Below is an example of an appropriate use of factory service, which is more suited, to returning data via the functions defined in the object it returns.","position":{"start":{"line":52,"column":1,"offset":1780},"end":{"line":52,"column":154,"offset":1933},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1780},"end":{"line":52,"column":154,"offset":1933},"indent":[]}},{"type":"html","value":"<script src=\"https://gist.github.com/NicholasMurray/3e14a8df444f38022b46.js\"></script>","position":{"start":{"line":54,"column":1,"offset":1935},"end":{"line":54,"column":87,"offset":2021},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":55,"column":1,"offset":2022}}}}