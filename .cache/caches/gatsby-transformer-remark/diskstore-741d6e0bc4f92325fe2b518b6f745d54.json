{"expireTime":9007200801288851000,"key":"transformer-remark-markdown-ast-df1886964f8153486a4ce64143fa9335-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-external-linksgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"image","title":"AngularJS how to execute a custom directive link or compile function after ngBind or interpolation","url":"/images/tworonnies.jpg","alt":"alt text ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":138,"offset":138},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":138,"offset":138},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When creating your own custom angularjs directives you may wish to append a value to a variable that is being evaluated within the \nelement that you are attaching your directive to. ","position":{"start":{"line":4,"column":1,"offset":140},"end":{"line":5,"column":51,"offset":322},"indent":[1]}}],"position":{"start":{"line":4,"column":1,"offset":140},"end":{"line":5,"column":51,"offset":322},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"If you are using a ","position":{"start":{"line":7,"column":1,"offset":324},"end":{"line":7,"column":20,"offset":343},"indent":[]}},{"type":"link","title":null,"url":"https://docs.angularjs.org/guide/directive","children":[{"type":"text","value":"link","position":{"start":{"line":7,"column":21,"offset":344},"end":{"line":7,"column":25,"offset":348},"indent":[]}}],"position":{"start":{"line":7,"column":20,"offset":343},"end":{"line":7,"column":70,"offset":393},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow"}}},{"type":"text","value":" function to manipulate a vm variable","position":{"start":{"line":7,"column":70,"offset":393},"end":{"line":7,"column":107,"offset":430},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":324},"end":{"line":7,"column":107,"offset":430},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function() {\n  angular.module(&quot;app&quot;, []); \n})();\n\n(function() {\n  angular.module(&quot;app&quot;).controller(&quot;AppCtrl&quot;, [AppCtrl]);\n    function AppCtrl() {  \n      var vm = this; \n      vm.farewell = &quot;And it&#39;s Goodnight &quot;;\n      return vm;\n    }; \n})();\n\n(function() {\n  angular.module(&quot;app&quot;).directive(&quot;regularFarewellDirective&quot;, function() {\n    return {\n      link: function(scope,element,attrs) {\n          var currentValue = element.text();\n          element.text(currentValue + &quot; and goodbye!&quot;);\n      }\n     };  \n  });\n})();</code></pre></div>","position":{"start":{"line":9,"column":1,"offset":432},"end":{"line":33,"column":4,"offset":963},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;body ng-app=&quot;app&quot;&gt;\n  &lt;div ng-controller=&quot;AppCtrl as vm&quot;&gt;\n    &lt;span regular-farewell-directive&gt;{{vm.farewell}}&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/body&gt;</code></pre></div>","position":{"start":{"line":36,"column":1,"offset":966},"end":{"line":43,"column":4,"offset":1109},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The output would look like this as the value has not yet been evaluated.","position":{"start":{"line":46,"column":1,"offset":1112},"end":{"line":46,"column":73,"offset":1184},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1112},"end":{"line":46,"column":73,"offset":1184},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{{vm.farewell}} and goodbye! </code></pre></div>","position":{"start":{"line":48,"column":1,"offset":1186},"end":{"line":50,"column":4,"offset":1223},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you used a ","position":{"start":{"line":52,"column":1,"offset":1225},"end":{"line":52,"column":15,"offset":1239},"indent":[]}},{"type":"link","title":null,"url":"https://docs.angularjs.org/api/ng/service/$compile","children":[{"type":"text","value":"compile","position":{"start":{"line":52,"column":16,"offset":1240},"end":{"line":52,"column":23,"offset":1247},"indent":[]}}],"position":{"start":{"line":52,"column":15,"offset":1239},"end":{"line":52,"column":76,"offset":1300},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow"}}},{"type":"text","value":" function instead","position":{"start":{"line":52,"column":76,"offset":1300},"end":{"line":52,"column":93,"offset":1317},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1225},"end":{"line":52,"column":93,"offset":1317},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function() {\n  angular.module(&quot;app&quot;).directive(&quot;regularFarewellDirective&quot;, function() {\n    return {\n      compile: function(scope,element,attrs) {\n          var currentValue = element.text();\n          element.text(currentValue + &quot; and goodbye!&quot;);\n      }\n     };  \n  });\n})();</code></pre></div>","position":{"start":{"line":54,"column":1,"offset":1319},"end":{"line":65,"column":4,"offset":1606},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The output would be different containing just the evaluated variable value.","position":{"start":{"line":67,"column":1,"offset":1608},"end":{"line":67,"column":76,"offset":1683},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":1608},"end":{"line":67,"column":76,"offset":1683},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">And it&#39;s Goodnight </code></pre></div>","position":{"start":{"line":69,"column":1,"offset":1685},"end":{"line":71,"column":4,"offset":1712},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Executing a custom directive link function where there is a value to be evaluated in ngBind","position":{"start":{"line":76,"column":4,"offset":1720},"end":{"line":76,"column":95,"offset":1811},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":1717},"end":{"line":76,"column":95,"offset":1811},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"One way around this issue would be to move the variable to the built in ","position":{"start":{"line":78,"column":1,"offset":1813},"end":{"line":78,"column":73,"offset":1885},"indent":[]}},{"type":"link","title":null,"url":"https://docs.angularjs.org/api/ng/directive/ngBind","children":[{"type":"text","value":"ngBind","position":{"start":{"line":78,"column":74,"offset":1886},"end":{"line":78,"column":80,"offset":1892},"indent":[]}}],"position":{"start":{"line":78,"column":73,"offset":1885},"end":{"line":78,"column":133,"offset":1945},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow"}}},{"type":"text","value":" directive and then watch for the value\nto be evaluated and then executing our code.","position":{"start":{"line":78,"column":133,"offset":1945},"end":{"line":79,"column":45,"offset":2029},"indent":[1]}}],"position":{"start":{"line":78,"column":1,"offset":1813},"end":{"line":79,"column":45,"offset":2029},"indent":[1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function() {\n  angular.module(&quot;app&quot;).directive(&quot;corbettFarewellDirective&quot;, function() {\n    return {\n      link: function(scope,element,attrs) {\n        scope.$watch(attrs.ngBind, function(newvalue) {\n          element.text(newvalue + &quot; from me!&quot;);\n        });           \n      }\n     };  \n  });\n})();</code></pre></div>","position":{"start":{"line":82,"column":1,"offset":2032},"end":{"line":94,"column":4,"offset":2342},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;body ng-app=&quot;app&quot;&gt; \n  &lt;div ng-controller=&quot;AppCtrl as vm&quot;&gt;\n    &lt;span corbett-farewell-directive ng-bind=&quot;vm.farewell&quot;&gt;&lt;/span&gt;\n  &lt;/div&gt;  \n&lt;/body&gt;</code></pre></div>","position":{"start":{"line":97,"column":1,"offset":2345},"end":{"line":103,"column":4,"offset":2497},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This would result in the desired outcome.","position":{"start":{"line":105,"column":1,"offset":2499},"end":{"line":105,"column":42,"offset":2540},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":2499},"end":{"line":105,"column":42,"offset":2540},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">And it&#39;s Goodnight from me! </code></pre></div>","position":{"start":{"line":108,"column":1,"offset":2543},"end":{"line":110,"column":4,"offset":2579},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Executing a custom directive link function where there is a value to be evaluated in ngBind","position":{"start":{"line":113,"column":4,"offset":2585},"end":{"line":113,"column":95,"offset":2676},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":2582},"end":{"line":113,"column":95,"offset":2676},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If we are not able to or, do not wish to, move the variable to an ngBind element attribute we can still watch the \nvariable being evaluated using a combination of a compile function and the ","position":{"start":{"line":115,"column":1,"offset":2678},"end":{"line":116,"column":76,"offset":2868},"indent":[1]}},{"type":"link","title":null,"url":"https://docs.angularjs.org/api/ng/service/$interpolate","children":[{"type":"text","value":"$interpolate","position":{"start":{"line":116,"column":77,"offset":2869},"end":{"line":116,"column":89,"offset":2881},"indent":[]}}],"position":{"start":{"line":116,"column":76,"offset":2868},"end":{"line":116,"column":146,"offset":2938},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow"}}},{"type":"text","value":" service.","position":{"start":{"line":116,"column":146,"offset":2938},"end":{"line":116,"column":155,"offset":2947},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":2678},"end":{"line":116,"column":155,"offset":2947},"indent":[1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function() {\n  angular.module(&quot;app&quot;).directive(&quot;barkerFarewellDirective&quot;,   function($interpolate) {\n      return {\n        compile: function (tElem, tAttrs) {\n          var interpolateFn = $interpolate(tElem.html(), true);\n          tElem.empty();\n          return function(scope, elem, attrs){\n            scope.$watch(interpolateFn, function (value) {\n              var currentText = value;\n              elem.text(currentText + &quot; from him!&quot;);\n            });\n          }\n        }\n      };\n   }) \n})();</code></pre></div>","position":{"start":{"line":118,"column":1,"offset":2949},"end":{"line":136,"column":4,"offset":3465},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;body ng-app=&quot;app&quot;&gt; \n  &lt;div ng-controller=&quot;AppCtrl as vm&quot;&gt;\n    &lt;span barker-farewell-directive&gt;{{vm.farewell}}&lt;/span&gt;\n  &lt;/div&gt;  \n&lt;/body&gt;</code></pre></div>","position":{"start":{"line":139,"column":1,"offset":3468},"end":{"line":145,"column":4,"offset":3612},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Gaining the ouput that we require.","position":{"start":{"line":147,"column":1,"offset":3614},"end":{"line":147,"column":35,"offset":3648},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":3614},"end":{"line":147,"column":35,"offset":3648},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">And it&#39;s Goodnight from him!</code></pre></div>","position":{"start":{"line":149,"column":1,"offset":3650},"end":{"line":151,"column":4,"offset":3686},"indent":[1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":152,"column":1,"offset":3687}}}}